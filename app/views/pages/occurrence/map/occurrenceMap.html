<div class="wrapper-horizontal-stripes occurrence-search__map">

    <section class="horizontal-stripe--paddingless white-background search-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12">
                    <nav class="article-header__category article-header__category--deep">
                        <span class="article-header__category__upper">Search occurrences</span>
                        <span class="article-header__category__lower" ng-if="occMap.count >= 0">
                            {{occMap.count | localNumber:occMap.occurrenceState.query.locale }} with coordinates
                        </span>

                        <span class="article-header__category__lower" ng-if="occMap.count < 0">
                            Loading ...
                        </span>
                    </nav>
                    <!--<div class="search-header__description">-->
                    <!--<span ng-if="occMap.count >= 0">{{occMap.occurrenceState.data.count | number}} occurrences. {{occMap.count | number}} with coordinates</span>-->
                    <!--</div>-->
                </div>
            </div>
        </div>
    </section>

    <section class="horizontal-stripe--paddingless white-background">
        <div class="container-fluid">
            <div class="row">
                <nav class="tabs">
                    <ul>
                        <li class="tab">
                            <a href="" ui-sref="occurrenceSearchTable()">
                                Table
                            </a>
                        </li>

                        <li class="tab">
                            <a href="" ui-sref="occurrenceSearchGallery()">
                                Gallery
                            </a>
                        </li>

                        <li class="tab isActive">
                            <span>
                                Map
                            </span>
                        </li>

                        <li class="tab">
                            <a href="" ui-sref="occurrenceSearchSpecies()">
                                Taxonomy
                            </a>
                        </li>

                        <li class="tab">
                            <a href="" ui-sref="occurrenceSearchDatasets()">
                                Datasets
                            </a>
                        </li>

                        <li class="tab">
                            <a href="" ui-sref="occurrenceSearchCharts()" ng-if="portal.hasRole('REGISTRY_ADMIN')">
                                Charts
                            </a>
                        </li>

                        <li class="tab">
                            <a href="" ui-sref="occurrenceSearchDownload()">
                                <span class="gb-icon-file-download"></span>
                                <span>
                                    Download
                                </span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </section>

    <section class="horizontal-stripe--paddingless light-background">
        <div class="emptyInfo" ng-if="occMap.occurrenceState.query.has_coordinate === 'false'">
            <h3>No occurrences to show</h3>
            <p>Include occurrences with coordinates?</p>
            <div>
                <a href="" ui-sref="occurrenceSearchMap({has_coordinate: true, has_geospatial_issue: false})" class="gb-button--flat text-uppercase">Yes</a>
            </div>
        </div>
        <div ng-if="occMap.occurrenceState.query.has_coordinate !== 'false'">
            <div class="occurrence-search-map">
                <adhoc-map filter="occMap.occurrenceState.query" map-style="{suggested: 'SQUARE_DOTS'}" map-events="occMap.mapEvents" class="fitSize fitSize--noBar"></adhoc-map>
            </div>
        </div>
    </section>
</div>